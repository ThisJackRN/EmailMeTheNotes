<!DOCTYPE html>
<html lang="en"> 
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= title %></title>
    <script>
        function toggleDarkMode() {
            var currentMode = document.documentElement.getAttribute('data-theme');
            var newMode = currentMode === 'dark' ? 'light' : 'dark';
            document.documentElement.setAttribute('data-theme', newMode);
            document.getElementById('theme-stylesheet').href = newMode === 'dark' ? '/static/dark-styles.css' : '/static/styles.css';
        }
    </script>
    <% var isDarkMode = typeof isDarkMode !== 'undefined' ? isDarkMode : false; %>
    <link id="theme-stylesheet" rel="stylesheet" href="<%= isDarkMode ? '/static/dark-styles.css' : '/static/styles.css' %>">
</head>
<body>
    
    <%- include('header.ejs', { isLoggedIn: isLoggedIn }) %>
    <div class="container">
        <div class="paper-page">
            <% if (content) { %>
                <div><%- content %></div>
            <% } else if (typeof fileUrl !== 'undefined' && typeof filename !== 'undefined') { %>
                <p>File: <a href="<%= fileUrl %>"><%= filename %></a></p>
            <% } else { %>
                <p>No file information available.</p>
            <% } %>
        </div>
    </div>
    <%- include('footer.ejs') %>
</body>
</html>